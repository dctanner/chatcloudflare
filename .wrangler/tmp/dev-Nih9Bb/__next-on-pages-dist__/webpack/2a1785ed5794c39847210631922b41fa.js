var pe=(K,j,S)=>{"use strict";S.d(j,{V:()=>he,g:()=>de});class _ extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class W extends Error{constructor(){super("The request.page has been deprecated in favour of `URLPattern`.\n  Read more: https://nextjs.org/docs/messages/middleware-request-page\n  ")}}class M extends Error{constructor(){super("The request.ua has been removed in favour of `userAgent` function.\n  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n  ")}}function H(t){let e=new Headers;for(let[s,n]of Object.entries(t)){let l=Array.isArray(n)?n:[n];for(let p of l)p!==void 0&&e.append(s,p)}return e}function U(t){var e,s,n,l,p,d=[],h=0;function b(){for(;h<t.length&&/\s/.test(t.charAt(h));)h+=1;return h<t.length}for(;h<t.length;){for(e=h,p=!1;b();)if((s=t.charAt(h))===","){for(n=h,h+=1,b(),l=h;h<t.length&&(s=t.charAt(h))!=="="&&s!==";"&&s!==",";)h+=1;h<t.length&&t.charAt(h)==="="?(p=!0,h=l,d.push(t.substring(e,n)),e=h):h=n+1}else h+=1;(!p||h>=t.length)&&d.push(t.substring(e,t.length))}return d}function L(t){let e={};if(t)for(let[s,n]of t.entries())e[s]=n,s.toLowerCase()==="set-cookie"&&(e[s]=U(n));return e}function P(t){try{return String(new URL(String(t)))}catch(e){throw Error(`URL is malformed "${String(t)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:e})}}let E=Symbol("response"),O=Symbol("passThrough"),R=Symbol("waitUntil");class z{[R]=[];[O]=!1;constructor(e){}respondWith(e){this[E]||(this[E]=Promise.resolve(e))}passThroughOnException(){this[O]=!0}waitUntil(e){this[R].push(e)}}class F extends z{constructor(e){super(e.request),this.sourcePage=e.page}get request(){throw new _({page:this.sourcePage})}respondWith(){throw new _({page:this.sourcePage})}}function J(t,e,s){let n;if(t)for(let d of(s&&(s=s.toLowerCase()),t)){var l,p;let h=(l=d.domain)==null?void 0:l.split(":")[0].toLowerCase();if(e===h||s===d.defaultLocale.toLowerCase()||((p=d.locales)==null?void 0:p.some(b=>b.toLowerCase()===s))){n=d;break}}return n}function N(t){return t.replace(/\/$/,"")||"/"}function A(t){let e=t.indexOf("#"),s=t.indexOf("?"),n=s>-1&&(e<0||s<e);return n||e>-1?{pathname:t.substring(0,n?s:e),query:n?t.substring(s,e>-1?e:void 0):"",hash:e>-1?t.slice(e):""}:{pathname:t,query:"",hash:""}}function k(t,e){if(!t.startsWith("/")||!e)return t;let{pathname:s,query:n,hash:l}=A(t);return`${e}${s}${n}${l}`}function r(t,e){if(!t.startsWith("/")||!e)return t;let{pathname:s,query:n,hash:l}=A(t);return`${s}${e}${n}${l}`}function o(t,e){if(typeof t!="string")return!1;let{pathname:s}=A(t);return s===e||s.startsWith(e+"/")}function a(t,e,s,n){return e&&e!==s&&(n||!o(t.toLowerCase(),`/${e.toLowerCase()}`)&&!o(t.toLowerCase(),"/api"))?k(t,`/${e}`):t}function u(t){let e=a(t.pathname,t.locale,t.buildId?void 0:t.defaultLocale,t.ignorePrefix);return(t.buildId||!t.trailingSlash)&&(e=N(e)),t.buildId&&(e=r(k(e,`/_next/data/${t.buildId}`),t.pathname==="/"?"index.json":".json")),e=k(e,t.basePath),!t.buildId&&t.trailingSlash?e.endsWith("/")?e:r(e,"/"):N(e)}function c(t,e){var s;return(s=!Array.isArray(e?.host)&&e?.host||t.hostname)==null?void 0:s.split(":")[0].toLowerCase()}function f(t,e){let s,n=t.split("/");return(e||[]).some(l=>!!n[1]&&n[1].toLowerCase()===l.toLowerCase()&&(s=l,n.splice(1,1),t=n.join("/")||"/",!0)),{pathname:t,detectedLocale:s}}function $(t,e){if(o(t,e)){let s=t.slice(e.length);return s.startsWith("/")?s:`/${s}`}return t}function g(t,e){var s;let{basePath:n,i18n:l,trailingSlash:p}=(s=e.nextConfig)!=null?s:{},d={pathname:t,trailingSlash:t!=="/"?t.endsWith("/"):p};if(n&&o(d.pathname,n)&&(d.pathname=$(d.pathname,n),d.basePath=n),e.parseData===!0&&d.pathname.startsWith("/_next/data/")&&d.pathname.endsWith(".json")){let h=d.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),b=h[0];d.pathname=h[1]!=="index"?`/${h.slice(1).join("/")}`:"/",d.buildId=b}if(l){let h=f(d.pathname,l.locales);d.locale=h?.detectedLocale,d.pathname=h?.pathname||d.pathname}return d}let C=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|::1|localhost)/;function I(t,e){return new URL(String(t).replace(C,"localhost"),e&&String(e).replace(C,"localhost"))}let i=Symbol("NextURLInternal");class x{constructor(e,s,n){let l,p;typeof s=="object"&&"pathname"in s||typeof s=="string"?(l=s,p=n||{}):p=n||s||{},this[i]={url:I(e,l??p.base),options:p,basePath:""},this.analyzeUrl()}analyzeUrl(){var e,s,n,l,p;let d=g(this[i].url.pathname,{nextConfig:this[i].options.nextConfig,parseData:!0});this[i].domainLocale=J((e=this[i].options.nextConfig)==null||(s=e.i18n)==null?void 0:s.domains,c(this[i].url,this[i].options.headers));let h=((n=this[i].domainLocale)==null?void 0:n.defaultLocale)||((l=this[i].options.nextConfig)==null||(p=l.i18n)==null?void 0:p.defaultLocale);this[i].url.pathname=d.pathname,this[i].defaultLocale=h,this[i].basePath=d.basePath??"",this[i].buildId=d.buildId,this[i].locale=d.locale??h,this[i].trailingSlash=d.trailingSlash}formatPathname(){return u({basePath:this[i].basePath,buildId:this[i].buildId,defaultLocale:this[i].options.forceLocale?void 0:this[i].defaultLocale,locale:this[i].locale,pathname:this[i].url.pathname,trailingSlash:this[i].trailingSlash})}formatSearch(){return this[i].url.search}get buildId(){return this[i].buildId}set buildId(e){this[i].buildId=e}get locale(){return this[i].locale??""}set locale(e){var s,n;if(!this[i].locale||!(!((s=this[i].options.nextConfig)==null||(n=s.i18n)==null)&&n.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[i].locale=e}get defaultLocale(){return this[i].defaultLocale}get domainLocale(){return this[i].domainLocale}get searchParams(){return this[i].url.searchParams}get host(){return this[i].url.host}set host(e){this[i].url.host=e}get hostname(){return this[i].url.hostname}set hostname(e){this[i].url.hostname=e}get port(){return this[i].url.port}set port(e){this[i].url.port=e}get protocol(){return this[i].url.protocol}set protocol(e){this[i].url.protocol=e}get href(){let e=this.formatPathname(),s=this.formatSearch();return`${this.protocol}//${this.host}${e}${s}${this.hash}`}set href(e){this[i].url=I(e),this.analyzeUrl()}get origin(){return this[i].url.origin}get pathname(){return this[i].url.pathname}set pathname(e){this[i].url.pathname=e}get hash(){return this[i].url.hash}set hash(e){this[i].url.hash=e}get search(){return this[i].url.search}set search(e){this[i].url.search=e}get password(){return this[i].url.password}set password(e){this[i].url.password=e}get username(){return this[i].url.username}set username(e){this[i].url.username=e}get basePath(){return this[i].basePath}set basePath(e){this[i].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new x(String(this),this[i].options)}}var T=S(768);let y=Symbol("internal request");class te extends Request{constructor(e,s={}){let n=typeof e!="string"&&"url"in e?e.url:String(e);P(n),super(n,s),this[y]={cookies:new T.RequestCookies(this.headers),geo:s.geo||{},ip:s.ip,url:new x(n,{headers:L(this.headers),nextConfig:s.nextConfig})}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[y].cookies}get geo(){return this[y].geo}get ip(){return this[y].ip}get nextUrl(){return this[y].url}get page(){throw new W}get ua(){throw new M}get url(){return this[y].url.toString()}}let G=Symbol("internal response"),re=new Set([301,302,303,307,308]);function Q(t,e){var s;if(!(t==null||(s=t.request)==null)&&s.headers){if(!(t.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let n=[];for(let[l,p]of t.request.headers)e.set("x-middleware-request-"+l,p),n.push(l);e.set("x-middleware-override-headers",n.join(","))}}class q extends Response{constructor(e,s={}){super(e,s),this[G]={cookies:new T.ResponseCookies(this.headers),url:s.url?new x(s.url,{headers:L(this.headers),nextConfig:s.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[G].cookies}static json(e,s){let n=Response.json(e,s);return new q(n.body,n)}static redirect(e,s){let n=typeof s=="number"?s:s?.status??307;if(!re.has(n))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let l=typeof s=="object"?s:{},p=new Headers(l?.headers);return p.set("Location",P(e)),new q(null,{...l,headers:p,status:n})}static rewrite(e,s){let n=new Headers(s?.headers);return n.set("x-middleware-rewrite",P(e)),Q(s,n),new q(null,{...s,headers:n})}static next(e){let s=new Headers(e?.headers);return s.set("x-middleware-next","1"),Q(e,s),new q(null,{...e,headers:s})}}function X(t,e){let s=typeof e=="string"?new URL(e):e,n=new URL(t,e),l=`${s.protocol}//${s.host}`;return`${n.protocol}//${n.host}`===l?n.toString().replace(l,""):n.toString()}let se=["__nextFallback","__nextLocale","__nextDefaultLocale","__nextIsNotFound"],ne=["__nextDataReq"];function oe(t,e){for(let s of se)t.delete(s);if(e)for(let s of ne)t.delete(s);return t}function ie(t,e){return e?t.replace(/\.rsc($|\?)/,"$1"):t}class ae extends te{constructor(e){super(e.input,e.init),this.sourcePage=e.page}get request(){throw new _({page:this.sourcePage})}respondWith(){throw new _({page:this.sourcePage})}waitUntil(){throw new _({page:this.sourcePage})}}let le=[["RSC"],["Next-Router-State-Tree"],["Next-Router-Prefetch"],["x-vercel-sc-headers"]];async function he(t){let e=self.__BUILD_MANIFEST!==void 0;t.request.url=ie(t.request.url,!0);let s=new x(t.request.url,{headers:t.request.headers,nextConfig:t.request.nextConfig}),n=s.buildId;s.buildId="";let l=t.request.headers["x-nextjs-data"];l&&s.pathname==="/index"&&(s.pathname="/");let p=H(t.request.headers),d=new Map;if(!e)for(let w of le){let v=w.toString().toLowerCase();p.get(v)&&(d.set(v,p.get(v)),p.delete(v))}oe(s.searchParams,!0);let h=new ae({page:t.page,input:String(s),init:{body:t.request.body,geo:t.request.geo,headers:p,ip:t.request.ip,method:t.request.method,nextConfig:t.request.nextConfig}});l&&Object.defineProperty(h,"__isData",{enumerable:!1,value:!0});let b=new F({request:h,page:t.page}),m=await t.handler(h,b);if(m&&!(m instanceof Response))throw TypeError("Expected an instance of Response to be returned");let Y=m?.headers.get("x-middleware-rewrite");if(m&&Y){let w=new x(Y,{forceLocale:!0,headers:t.request.headers,nextConfig:t.request.nextConfig});w.host===h.nextUrl.host&&(w.buildId=n||w.buildId,m.headers.set("x-middleware-rewrite",String(w)));let v=X(String(w),String(s));l&&m.headers.set("x-nextjs-rewrite",v)}let Z=m?.headers.get("Location");if(m&&Z){let w=new x(Z,{forceLocale:!1,headers:t.request.headers,nextConfig:t.request.nextConfig});m=new Response(m.body,m),w.host===h.nextUrl.host&&(w.buildId=n||w.buildId,m.headers.set("Location",String(w))),l&&(m.headers.delete("Location"),m.headers.set("x-nextjs-redirect",X(String(w),String(s))))}let D=m||q.next(),ee=D.headers.get("x-middleware-override-headers"),V=[];if(ee){for(let[w,v]of d)D.headers.set(`x-middleware-request-${w}`,v),V.push(w);V.length>0&&D.headers.set("x-middleware-override-headers",ee+","+V.join(","))}return{response:D,waitUntil:Promise.all(b[R])}}function B(t){return`The edge runtime does not support Node.js '${t}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}function ue(t){let e=new Proxy(function(){},{get(s,n){if(n==="then")return{};throw Error(B(t))},construct(){throw Error(B(t))},apply(s,n,l){if(typeof l[0]=="function")return l[0](e);throw Error(B(t))}});return new Proxy({},{get:()=>e})}function de(){if(process!==S.g.process&&(process.env=S.g.process.env,S.g.process=process),Object.defineProperty(globalThis,"__import_unsupported",{value:ue,enumerable:!1,configurable:!0}),"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&_ENTRIES.middleware_instrumentation.register)try{_ENTRIES.middleware_instrumentation.register()}catch(t){throw t.message=`An error occurred while loading instrumentation hook: ${t.message}`,t}}},ge=K=>{"use strict";var j=Object.defineProperty,S=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,W=Object.prototype.hasOwnProperty,M=(r,o,a,u)=>{if(o&&typeof o=="object"||typeof o=="function")for(let c of _(o))W.call(r,c)||c===a||j(r,c,{get:()=>o[c],enumerable:!(u=S(o,c))||u.enumerable});return r},H=r=>M(j({},"__esModule",{value:!0}),r),U={};function L(r){let o=["path"in r&&r.path&&`Path=${r.path}`,"expires"in r&&r.expires&&`Expires=${r.expires.toUTCString()}`,"maxAge"in r&&r.maxAge&&`Max-Age=${r.maxAge}`,"domain"in r&&r.domain&&`Domain=${r.domain}`,"secure"in r&&r.secure&&"Secure","httpOnly"in r&&r.httpOnly&&"HttpOnly","sameSite"in r&&r.sameSite&&`SameSite=${r.sameSite}`].filter(Boolean);return`${r.name}=${encodeURIComponent(r.value??"")}; ${o.join("; ")}`}function P(r){let o=new Map;for(let a of r.split(/; */)){if(!a)continue;let u=a.indexOf("="),[c,f]=[a.slice(0,u),a.slice(u+1)];try{o.set(c,decodeURIComponent(f??"true"))}catch{}}return o}function E(r){if(!r)return;let[[o,a],...u]=P(r),{domain:c,expires:f,httponly:$,maxage:g,path:C,samesite:I,secure:i}=Object.fromEntries(u.map(([T,y])=>[T.toLowerCase(),y])),x={name:o,value:decodeURIComponent(a),domain:c,...f&&{expires:new Date(f)},...$&&{httpOnly:!0},...typeof g=="string"&&{maxAge:Number(g)},path:C,...I&&{sameSite:z(I)},...i&&{secure:!0}};return O(x)}function O(r){let o={};for(let a in r)r[a]&&(o[a]=r[a]);return o}((r,o)=>{for(var a in o)j(r,a,{get:o[a],enumerable:!0})})(U,{RequestCookies:()=>F,ResponseCookies:()=>J}),K.exports=H(U);var R=["strict","lax","none"];function z(r){return r=r.toLowerCase(),R.includes(r)?r:void 0}var F=class{constructor(r){this._parsed=new Map,this._headers=r;let o=r.get("cookie");if(o){let a=P(o);for(let[u,c]of a)this._parsed.set(u,{name:u,value:c})}}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...r){let o=typeof r[0]=="string"?r[0]:r[0].name;return this._parsed.get(o)}getAll(...r){var o;let a=Array.from(this._parsed);if(!r.length)return a.map(([c,f])=>f);let u=typeof r[0]=="string"?r[0]:(o=r[0])==null?void 0:o.name;return a.filter(([c])=>c===u).map(([c,f])=>f)}has(r){return this._parsed.has(r)}set(...r){let[o,a]=r.length===1?[r[0].name,r[0].value]:r,u=this._parsed;return u.set(o,{name:o,value:a}),this._headers.set("cookie",Array.from(u).map(([c,f])=>L(f)).join("; ")),this}delete(r){let o=this._parsed,a=Array.isArray(r)?r.map(u=>o.delete(u)):o.delete(r);return this._headers.set("cookie",Array.from(o).map(([u,c])=>L(c)).join("; ")),a}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(r=>`${r.name}=${encodeURIComponent(r.value)}`).join("; ")}},J=class{constructor(r){var o;this._parsed=new Map,this._headers=r;let a=((o=r.getAll)==null?void 0:o.call(r,"set-cookie"))??r.get("set-cookie")??[],u=Array.isArray(a)?a:k(a);for(let c of u){let f=E(c);f&&this._parsed.set(f.name,f)}}get(...r){let o=typeof r[0]=="string"?r[0]:r[0].name;return this._parsed.get(o)}getAll(...r){var o;let a=Array.from(this._parsed.values());if(!r.length)return a;let u=typeof r[0]=="string"?r[0]:(o=r[0])==null?void 0:o.name;return a.filter(c=>c.name===u)}set(...r){let[o,a,u]=r.length===1?[r[0].name,r[0].value,r[0]]:r,c=this._parsed;return c.set(o,A({name:o,value:a,...u})),N(c,this._headers),this}delete(...r){let o=typeof r[0]=="string"?r[0]:r[0].name;return this.set({name:o,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(L).join("; ")}};function N(r,o){for(let[,a]of(o.delete("set-cookie"),r)){let u=L(a);o.append("set-cookie",u)}}function A(r={name:"",value:""}){return r.maxAge&&(r.expires=new Date(Date.now()+1e3*r.maxAge)),(r.path===null||r.path===void 0)&&(r.path="/"),r}function k(r){if(!r)return[];var o,a,u,c,f,$=[],g=0;function C(){for(;g<r.length&&/\s/.test(r.charAt(g));)g+=1;return g<r.length}for(;g<r.length;){for(o=g,f=!1;C();)if((a=r.charAt(g))===","){for(u=g,g+=1,C(),c=g;g<r.length&&(a=r.charAt(g))!=="="&&a!==";"&&a!==",";)g+=1;g<r.length&&r.charAt(g)==="="?(f=!0,g=c,$.push(r.substring(o,u)),o=g):g=u+1}else g+=1;(!f||g>=r.length)&&$.push(r.substring(o,r.length))}return $}};export{pe as __chunk_416,ge as __chunk_768};
